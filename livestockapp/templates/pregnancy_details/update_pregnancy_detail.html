<html>
  <head>
    <title>Pregnancy Detail</title>
  </head>
<body>
{% extends 'navbar.html' %}
{% block content %}
<div  >
  <div class="row min-vh-100 flex-column flex-md-row " style="margin-left:-13%;">
    <aside class="col-12 col-md-3 col-xl-2 p-0 bg-dark ">
      <nav class="navbar navbar-expand-md navbar-dark bd-dark flex-md-column flex-row align-items-center py-2 text-center sticky-top " id="sidebar">
        <div class="text-center p-3">
          <img src="https://impreza.us-themes.com/wp-content/uploads/paolo-bendandi-D-8XODEIr_s-unsplash.jpg" alt="profile picture" class="img-fluid rounded-circle my-4 p-1 d-none d-md-block shadow"/>
         <a href="#" class="navbar-brand mx-0 font-weight-bold  text-nowrap" >XcentPupil</a>
        </div>
            <button type="button" class="navbar-toggler border-0 order-1" data-toggle="collapse" data-target="#nav" aria-controls="nav" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>       
        <div class="collapse navbar-collapse order-last" id="nav">
          <ul class="navbar-nav flex-column w-100 justify-content-center">
            <li class="nav-item">
              <a href="#" class="nav-link active"> Edit Profile</a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link"> Projects</a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link"> Tasks </a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link"> Users Info </a>
            </li>
          </ul>
        </div>      
      </nav>   
    </aside>
  </div>
</div> 
{% comment %} <div class="container my-3"> 
  <div  style="margin-left:30%; margin-top:-42%; "><b></b></div> {% endcomment %}
  <div style=" margin-top:-42%; ">
  <form action='/update_pregnancy_detail/{{detail.pregnancy_id}}' method="POST" >
    <div class="alert alert-dark mt-5 row offset-2" role="alert" style="margin-top:50%;"><b >Update Basic Info</b></div>
    {% if error2 %}
    <div class="alert alert-danger offset-2" role="alert">
      Please Enter Token No !!    
    </div>
    {% endif %}  
    {% csrf_token %}
    <div class="container-fluid" style="margin-left:10%;">
    <div class="row">
      <div class="col">
        <input type="text" class="form-control" name="pregnancy_id" required maxlength="50" value="{{detail.pregnancy_id}}" readonly hidden/>
        <label class=" control-label">Token No :<span style="color:red; font-weight:bold;">*</span></label>
        <select id="animal_id" name="animal_id"  class="form-control">         
        {% for y in det %}
          {% if detail.animal_id == y.animal_id %}
            <option  value="{{y.animal_id}}" selected>{{y.token_no}}</option>  
          {% else %}
            <option  value="{{y.animal_id}}">{{y.token_no}}</option> 
          {% endif %}
        {% endfor %}
        </select>
      </div>
      <div class="col">
          <label class=" control-label">Start Date :</label>
          <input type="date" class="form-control" id="start_date" name="start_date" value="{{detail.start_date|date:'Y-m-d'}}" >
      </div>
      <div class="col">
        <label class=" control-label">Expected End Date :</label>
        <input type="date" class="form-control" id="expected_end_date" name="expected_end_date" value="{{detail.expected_end_date|date:'Y-m-d'}}" >
      </div>
      <div class="col">
        <label class=" control-label">is Pregnancy Confirmed :</label>
        <select type="text" class="form-control" id="is_pregnancy_confirmed" name="is_pregnancy_confirmed" >
         {% if detail.is_pregnancy_confirmed == 1 %}
          <option value="True" selected >Yes</option>
          <option value="False" >No</option>         
        {% else  %}
        <option value="False" selected>No</option>
        <option value="True" >Yes</option>
        {% endif %}
          </select>      
      </div>
    </div>   
    <div class="row"> 
      <div class="col-3" >
        <label class=" control-label">Pregnancy Checked Date:</label>
        <input type="date" class="form-control" id="pregnancy_checked_on" name="pregnancy_checked_on" value="{{date}}" value="{{detail.pregnancy_checked_on|date:'Y-m-d'}}" >
      </div>
      <div class="col-3" >
        <label for="is_delivery_completed">is Delivery Confirm :</label>
        <select type="date" class="form-control" id="is_delivery_completed" name="is_delivery_completed"  >
          {% if detail.is_delivery_completed == 1 %}
          <option value="True" selected >Yes</option>
          <option value="False" >No</option>         
        {% else  %}
        <option value="False" selected>No</option>
        <option value="True" >Yes</option>
        {% endif %}         
          </select>
      </div>      
      <div class="col-3" >
        <label for="actual_delivery_date">Actual Delivery Date:</label>       
        <input type="date" class="form-control" id="actual_delivery_date" name="actual_delivery_date" value="{{detail.actual_delivery_date|date:'Y-m-d'}}"  >
      </div>
          <div class="col-3" >
            <label class=" control-label">is Miscarriage :</span></label>
       <select  name="is_miscarriage" class="form-control" required="required" id="is_miscarriage" class="is_miscarriage">
          {% if detail.is_miscarriage == 1 %}
            <option value="True" selected >Yes</option>
            <option value="False" >No</option>           
          {% else  %}
          <option value="False" selected>No</option>
          <option value="True" >Yes</option>
          {% endif %}         
        </select>
            </div>
      </div>    
      <div class = "row">
        <div  class='col-3'>
          <label class=" control-label">Miscarriage Date :</label>
          <input type="date"  class="form-control" name="miscarriage_date" id="miscarriage_date" value="{{detail.miscarriage_date|date:'Y-m-d'}}" >         
        </div>
        <div class="col-3" >
          <label class=" control-label">Infartility :</span></label>
          <select  name="infartility" class="form-control" required="required" id="infartility" class="infartility">
            {% if detail.infartility == 1 %}
              <option value="True" selected >Yes</option>
              <option value="False" >No</option>           
            {% else  %}
            <option value="False" selected>No</option>
            <option value="True" >Yes</option>
            {% endif %}         
          </select>
          </div>
          <div class="row">
            <div id ="hiddenFields1" class='col'>
              <label class=" control-label">is Pregnant :<span style="color:red; font-weight:bold;">*</span></label>
        {% if detail.is_pregnant == 1 %}
          <input type="checkbox" checked name="is_pregnant" id="is_pregnant" value="{{detail.is_pregnant}}">
        {% else %}
          <input type="checkbox"  name="is_pregnant" id="is_pregnant" value="{{detail.is_pregnant}}">
          {% endif %}
          <input type="text"  name="pregnant_val" id="pregnant_val" value="0" hidden>
      </div>   
        
      
          <div class="row" id="hiddenFields">
            <div class="col"  >
              <label for="pregnancy_end_date" class=" control-label" >Pregnancy End Date :</label>
              <input type="date" class="form-control"  name="pregnancy_end_date" value="{{detail.pregnancy_end_date|date:'Y-m-d'}}" >
            </div>
            <div  class="col">
              <label class=" control-label" >Pregnancy Start Date:<span style="color:red; font-weight:bold;">*</span></label>
              <input type="date" class="form-control"  name="pregnancy_start_date" id="pregnancy_start_date"  value="{{detail.pregnancy_start_date|date:'Y-m-d'}}">
            </div>
      </div>
    </div>      
      </div>  
      <div class="row">
        <div  class='col-3' >
          <label class=" control-label" >pregnancy_count:</label>
          <input type="text" class="form-control"  name="pregnancy_count" id="pregnancy_count"  value="{{pregnancy_count}}" readonly>
        </div>
        <div  class='col-3' >
          <label class=" control-label" >Miscarriage:</label>
          <input type="text" class="form-control"  name="miscarriage" id="miscarriage"  value="{{miscarriage}}" readonly>
        </div>
        <div  class='col-3' >
          <label class=" control-label" >Infartility:</label>
          <input type="text" class="form-control"  name="is_infartility" id="is_infartility"  value="{{is_infartility}}" readonly>
        </div>
      </div>
        <div class="row">
          <div  class='col-12' >
            <label for="description" >Description:</label>
            <textarea id="description" class="form-control" name="description" rows="3" cols="50" >{{detail.description}}</textarea>
          </div> 
    <div>
    </div>
</div>
<button type="submit" class="btn btn-success my-3" >Submit</button>  
  </form>
</div>











<script type="text/javascript">
  $(document).ready(function() {
    gender = $("#gender").val();
    if(gender == 'male'){
      $("#pregnant_val").val(0);
      $("#hiddenFields1").hide();
      $("#hiddenFields").hide();
    }else{
    if($('#is_pregnant').is(":checked")){
      $("#pregnant_val").val(1);
        $("#hiddenFields").show();
      } else{
      $("#pregnant_val").val(0);
      $("#hiddenFields").hide();
    }

  }


    // 
    $("#is_pregnant").on('click',function(){
      var is_pregnant = $("#is_pregnant").val();
      if($('#is_pregnant').is(":checked")){
        $("#pregnant_val").val(1);
          $("#hiddenFields").show();
        } else{
        $("#pregnant_val").val(0);
        $("#hiddenFields").hide();
      }    
    });
});


</script>
{% endblock content %}
</body>
</html>